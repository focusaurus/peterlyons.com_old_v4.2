@import "../../../node_modules/nib/lib/nib/reset.styl"
global-reset()
@import "solarized.color"

////////// mixins //////////
rounded(radius=10px)
  border-radius radius
  -webkit-border-radius radius
  -moz-border-radius radius

// Provide our wrapper mixin for responsive layout
//https://gist.github.com/1549029
wrapper(site-width=70%)
  site-margin = ((100% - site-width) / 2)
  margin-left: site-margin
  margin-right: site-margin
  transition: margin 0.3s ease-out
/*
I am not dealing with font size insanity. Here's the deal.
The main body/content font size is zero
Font sizes increase/decrease relative to that with simple sequential integers:
-2, -1, 0, 1, 2, 3, 4, 5
Each one is "a bit" larger than the previous as defined here
I generally only need h1-h3,
so h3 should be size 1 (just a bit larger than normal text),
h2 should be size 2,
and h1 should be size 3
Use REM units for fanciness but also include pixels for unsupported browsers
http://snook.ca/archives/html_and_css/font-size-with-rem
*/
fontsize(size)
  pixels =  8 if size < -1
  pixels = 10 if size == -1
  pixels = 14 if size ==  0 //Base size 0 for main body content
  pixels = 18 if size ==  1
  pixels = 24 if size ==  2
  pixels = 36 if size ==  3
  pixels = 48 if size > 3
  font-size unit(pixels, px)
  font-size unit((pixels/10), rem)

////////// Variables //////////
pad1 = 4px
pad2 = 20px
pad3 = 30px
codefont = Inconsolata, courier new, monospace, serif


////////// Fonts //////////
// Generated by Font Squirrel (http://www.fontsquirrel.com)
// on January 10, 2012 12:47:59 PM America/New_York

@font-face
  font-family 'SpecialEliteRegular'
  src url('/fonts/SpecialElite-webfont.eot?#iefix') format('embedded-opentype'), url('/fonts/SpecialElite-webfont.woff') format('woff'), url('/fonts/SpecialElite-webfont.ttf') format('truetype'), url('/fonts/SpecialElite-webfont.svg#SpecialEliteRegular') format('svg')
  font-weight: normal
  font-style: normal

////////// alphabetical site-wide rules for default HTML elements //////////
a
  color blue
  text-decoration none

article
  h1
    fontsize 2

body
  background-color lightbg1
  color content1
  font-family Verdana, Arial, Helvetica, sans-serif
  letter-spacing 0.1em
  line-height 1.6em
  padding 0
  fontsize 0

//For inline code snippets (wrapping OK)
code
  background-color lightbg2
  color content4
  font-family codefont

pre > code
  background-color darkbg1

//For multiline code blocks (formatted, no wrapping)
pre
  background-color darkbg1
  color content1
  font-family codefont
  overflow auto
  margin pad2 0
  padding pad1

dd
  margin-left pad2

dt
  font-weight bold

figcaption
  fontsize 2
  margin pad2 0

footer
  background-color lightbg2
  margin-top pad3
  padding-bottom pad2
  a
    rounded()
    padding 0 pad1
    display block
    &:hover
      background-color lightbg1
  h1
    fontsize 1
  nav
    display inline-block
    padding pad1 pad2 0 0
    vertical-align top

h1, h2, h3
  color content4
  line-height 1.5em
  &:not(:first-of-type)
    padding-top pad3

h1
  fontsize 3

h2
  fontsize 2

h3
  fontsize 1

header
  text-align center
  padding-bottom pad2
  h1
    a
      color black
      letter-spacing .4em
    fontsize 3
    font-family SpecialEliteRegular
    padding 0
    text-transform lowercase
  h2
    color content4
    font-family SpecialEliteRegular
    fontsize 2
    padding 0
  nav
    white-space nowrap
    a
      fontsize 1
      margin pad2
      padding pad1 pad2
      rounded()
      &:hover
        background-color lightbg2

//This should reset the default font size to 10 pixels, which makes for clean
//rem units
html
  font-size 62.5%

img.icon
  padding-right pad1
  vertical-align middle

img.thumbnail
  margin pad2 pad1
  vertical-align bottom

li
  line-height 2em
  margin-left pad3
  list-style-type circle

p
  margin-top pad2

////////// Based on IDs or Classes //////////
.intro
  p
    fontsize 1
  img
    padding pad1 0

.content
  wrapper()
  //margin 0 auto
  //padding 0 pad2
  //max-width 800px
  //min-width 600px

#practices
  li
    font-weight bold
    li
     font-weight normal

nav.blog
  form
    display inline-block

////////// Photos //////////
nav.photos
  a
    display block

#nextPrev
  a
    padding-right pad2

#photo
  display block

////////// Responsive layout //////////
@media screen and (max-width: 960px)
  .content
    wrapper(90%)
  header
    h2
      fontsize 1
    p
      display block
      &:after
        content "960"

@media screen and (max-width: 720px)
  .content
    wrapper(99%)
  header
    p
      &:after
        content "720"
